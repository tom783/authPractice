[{"/Users/tom783/programming/practices/auth/src/pages/ResetPassword/index.jsx":"1","/Users/tom783/programming/practices/auth/src/utils/api.js":"2","/Users/tom783/programming/practices/auth/src/store/reducers/authSlice.js":"3","/Users/tom783/programming/practices/auth/src/utils/flowInSaga.js":"4","/Users/tom783/programming/practices/auth/src/index.js":"5","/Users/tom783/programming/practices/auth/src/pages/Main/index.jsx":"6","/Users/tom783/programming/practices/auth/src/components/PrivateRoute/index.jsx":"7","/Users/tom783/programming/practices/auth/src/components/layout/index.jsx":"8","/Users/tom783/programming/practices/auth/src/store/reducers/profileSlice.js":"9","/Users/tom783/programming/practices/auth/src/pages/Test/index.jsx":"10"},{"size":2796,"mtime":1607062329259,"results":"11","hashOfConfig":"12"},{"size":1889,"mtime":1607068899357,"results":"13","hashOfConfig":"12"},{"size":1235,"mtime":1607068073062,"results":"14","hashOfConfig":"12"},{"size":600,"mtime":1607062275985,"results":"15","hashOfConfig":"12"},{"size":654,"mtime":1606961637936,"results":"16","hashOfConfig":"12"},{"size":440,"mtime":1606985517777,"results":"17","hashOfConfig":"12"},{"size":842,"mtime":1607046909293,"results":"18","hashOfConfig":"12"},{"size":1154,"mtime":1607068096798,"results":"19","hashOfConfig":"12"},{"size":1315,"mtime":1607069012177,"results":"20","hashOfConfig":"12"},{"size":1473,"mtime":1607069606581,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"1d43j0q",{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/tom783/programming/practices/auth/src/pages/ResetPassword/index.jsx",["43","44","45"],"import * as React from 'react'\nimport styled from 'styled-components'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {useImmer} from 'use-immer'\nimport {useHistory} from 'react-router-dom'\n\nimport Validationinput, {handleSetState} from '../../components/ValidationInput'\nimport {passwordValidator} from '../../utils/validators'\nimport { resetPassword, checkResetPasswordToken } from '../../utils/api'\nimport {resetPasswordFlow} from '../../utils/flowInSaga'\nimport { authRequest } from '../../store/reducers/authSlice'\n\nconst Wrap = styled.div``\n\nconst Form = styled.form``\n\nconst initState = {\n  checkOk: false,\n  isFetching: false\n}\n\nconst formState = {\n  password: '',\n  passwordAgain: ''\n}\n\nconst ResetPassword = (props) => {\n  const [state, setState] = useImmer(initState)\n  const [form, setForm] = useImmer(formState)\n  const isFetching = useSelector(state => state.auth.isFetching)\n  const checkOk = useSelector(state => state.auth.isValid)\n  const {params: {tokenId}} = props.match\n  const dispatch = useDispatch()\n  const history = useHistory()\n  \n  const onSubmit = e => {\n    e.preventDefault()\n    dispatch(authRequest({apiCall: () => resetPassword({...form, passwordResetToken: tokenId}), sagaFlow: resetPasswordFlow, history}))\n\n  }\n\n  React.useLayoutEffect(() => {\n    dispatch(authRequest({apiCall: () => checkResetPasswordToken(tokenId)}))\n  },[])\n\n  React.useEffect(() => {\n    if(isFetching) {\n      setState(draft => {\n        draft.isFetching = true\n      })\n    }else {\n      setState(draft => {\n        draft.isFetching = false\n      })\n    }\n    if(checkOk) {\n      setState(draft => {\n        draft.checkOk = true\n      })\n    }else {\n      setState(draft => {\n        draft.checkOk = false\n      })\n    }\n    \n  }, [checkOk, isFetching])\n\n  const resetForm = () => {\n    return (\n      <>\n        <Wrap>\n          <h2>Reset password</h2>\n          <Form onSubmit={onSubmit}>\n            <div>\n              <Validationinput type=\"password\" placeholder=\"비밀번호\" disabled={false} validator={passwordValidator} handleSetState={handleSetState('password', setForm)} />\n            </div>\n            <div>\n              <Validationinput type=\"password\" placeholder=\"비밀번호 재입력\" disabled={false} validator={passwordValidator} handleSetState={handleSetState('passwordAgain', setForm)} />\n            </div>\n            <div>\n              <input type=\"submit\" value=\"비밀번호 변경\" />\n            </div>\n          </Form>\n        </Wrap>\n      </>\n    )\n  }\n\n  const Loading = () => {\n    return <div>loading</div>\n  }\n  const Error = () => {\n    return <div>error</div>\n  }\n\n  const content = isFetching ? \n  Loading() : \n  checkOk ? \n  resetForm() :\n  Error()\n\n  return (\n    <>\n      {content}\n    </>\n  )\n}\n\nexport default ResetPassword","/Users/tom783/programming/practices/auth/src/utils/api.js",["46"],"/Users/tom783/programming/practices/auth/src/store/reducers/authSlice.js",[],"/Users/tom783/programming/practices/auth/src/utils/flowInSaga.js",[],"/Users/tom783/programming/practices/auth/src/index.js",[],"/Users/tom783/programming/practices/auth/src/pages/Main/index.jsx",[],"/Users/tom783/programming/practices/auth/src/components/PrivateRoute/index.jsx",[],"/Users/tom783/programming/practices/auth/src/components/layout/index.jsx",[],"/Users/tom783/programming/practices/auth/src/store/reducers/profileSlice.js",["47","48"],"/Users/tom783/programming/practices/auth/src/pages/Test/index.jsx",["49","50","51","52"],{"ruleId":"53","severity":1,"message":"54","line":28,"column":10,"nodeType":"55","messageId":"56","endLine":28,"endColumn":15},{"ruleId":"57","severity":1,"message":"58","line":44,"column":5,"nodeType":"59","endLine":44,"endColumn":7,"suggestions":"60"},{"ruleId":"57","severity":1,"message":"61","line":66,"column":6,"nodeType":"59","endLine":66,"endColumn":27,"suggestions":"62"},{"ruleId":"53","severity":1,"message":"63","line":69,"column":9,"nodeType":"55","messageId":"56","endLine":69,"endColumn":15},{"ruleId":"53","severity":1,"message":"64","line":2,"column":10,"nodeType":"55","messageId":"56","endLine":2,"endColumn":17},{"ruleId":"53","severity":1,"message":"65","line":2,"column":19,"nodeType":"55","messageId":"56","endLine":2,"endColumn":26},{"ruleId":"53","severity":1,"message":"54","line":22,"column":10,"nodeType":"55","messageId":"56","endLine":22,"endColumn":15},{"ruleId":"53","severity":1,"message":"66","line":22,"column":17,"nodeType":"55","messageId":"56","endLine":22,"endColumn":25},{"ruleId":"57","severity":1,"message":"67","line":31,"column":5,"nodeType":"59","endLine":31,"endColumn":7,"suggestions":"68"},{"ruleId":"57","severity":1,"message":"69","line":41,"column":6,"nodeType":"59","endLine":41,"endColumn":20,"suggestions":"70"},"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useLayoutEffect has missing dependencies: 'dispatch' and 'tokenId'. Either include them or remove the dependency array.","ArrayExpression",["71"],"React Hook React.useEffect has a missing dependency: 'setState'. Either include it or remove the dependency array.",["72"],"'params' is assigned a value but never used.","'authOut' is defined but never used.","'setInit' is defined but never used.","'setState' is assigned a value but never used.","React Hook React.useEffect has missing dependencies: 'dispatch' and 'history'. Either include them or remove the dependency array.",["73"],"React Hook React.useLayoutEffect has a missing dependency: 'setProfile'. Either include it or remove the dependency array.",["74"],{"desc":"75","fix":"76"},{"desc":"77","fix":"78"},{"desc":"79","fix":"80"},{"desc":"81","fix":"82"},"Update the dependencies array to be: [dispatch, tokenId]",{"range":"83","text":"84"},"Update the dependencies array to be: [checkOk, isFetching, setState]",{"range":"85","text":"86"},"Update the dependencies array to be: [dispatch, history]",{"range":"87","text":"88"},"Update the dependencies array to be: [reduxProfile, setProfile]",{"range":"89","text":"90"},[1374,1376],"[dispatch, tokenId]",[1754,1775],"[checkOk, isFetching, setState]",[895,897],"[dispatch, history]",[1220,1234],"[reduxProfile, setProfile]"]